/* 
 * WA Web Plus - Hide Mode CSS
 * Stylesheet untuk menyembunyikan nama kontak, preview pesan, dan foto profil
 */

/* ===== CONTACT NAMES HIDING ===== */
/* Blur contact names in chat list */
[data-testid="cell-frame-container"] span[dir="auto"]:not(:empty),
[role="gridcell"] span[title]:not([title=""]),
[data-testid="conversation-info-header"] span,
.ggj6brxn.gfz4du6o.r7fjleex,
[role="gridcell"] [title]:not([title=""]) {
  filter: blur(8px) !important;
  transition: filter 0.3s ease !important;
  border-radius: 4px !important;
  padding: 2px 4px !important;
}

/* Remove blur on hover */
[data-testid="cell-frame-container"]:hover span[dir="auto"]:not(:empty),
[role="gridcell"]:hover span[title]:not([title=""]),
[data-testid="conversation-info-header"]:hover span,
.ggj6brxn.gfz4du6o.r7fjleex:hover,
[role="gridcell"]:hover [title]:not([title=""]) {
  filter: blur(0px) !important;
}

/* Blur chat names in header */
header [data-testid="conversation-info-header"] span,
header span[dir="auto"]:not(:empty),
[data-testid="conversation-panel-header"] span[dir="auto"] {
  filter: blur(8px) !important;
  transition: filter 0.3s ease !important;
  border-radius: 4px !important;
  padding: 2px 4px !important;
}

/* Remove blur on hover for header */
header:hover [data-testid="conversation-info-header"] span,
header:hover span[dir="auto"]:not(:empty),
[data-testid="conversation-panel-header"]:hover span[dir="auto"] {
  filter: blur(0px) !important;
}

/* ===== MESSAGE PREVIEWS HIDING ===== */
/* Blur message previews in chat list */
[data-testid="last-msg"],
[data-testid="last-msg"] span,
.x1iyjqo2.x6ikm8r.x10wlt62,
.gfz4du6o.r7fjleex.lhj4utae,
[data-testid="cell-frame-container"] [data-testid="last-msg-status"] + span {
  filter: blur(6px) !important;
  transition: filter 0.3s ease !important;
  border-radius: 3px !important;
  padding: 1px 3px !important;
}

/* Remove blur on hover for message previews */
[data-testid="cell-frame-container"]:hover [data-testid="last-msg"],
[data-testid="cell-frame-container"]:hover [data-testid="last-msg"] span,
[data-testid="cell-frame-container"]:hover .x1iyjqo2.x6ikm8r.x10wlt62,
[data-testid="cell-frame-container"]:hover .gfz4du6o.r7fjleex.lhj4utae,
[data-testid="cell-frame-container"]:hover [data-testid="last-msg-status"] + span {
  filter: blur(0px) !important;
}

/* Blur typing indicators and status */
[data-testid="last-msg-status"],
[data-testid="msg-time"],
.x1n2onr6.x6ikm8r.x10wlt62.xlyipyv.xuxw1ft {
  filter: blur(4px) !important;
  transition: filter 0.3s ease !important;
}

/* Remove blur on hover for status indicators */
[data-testid="cell-frame-container"]:hover [data-testid="last-msg-status"],
[data-testid="cell-frame-container"]:hover [data-testid="msg-time"],
[data-testid="cell-frame-container"]:hover .x1n2onr6.x6ikm8r.x10wlt62.xlyipyv.xuxw1ft {
  filter: blur(0px) !important;
}
}

/* ===== PROFILE PICTURES HIDING ===== */
/* Blur profile pictures */
[data-testid="avatar"] img,
img[src*="blob:"],
img[alt*="profile"],
.x1rg5ohu img,
[data-testid="default-user"] img {
  filter: blur(10px) !important;
  transition: filter 0.3s ease !important;
}

/* Remove blur on hover for profile pictures */
[data-testid="avatar"]:hover img,
[data-testid="cell-frame-container"]:hover img[src*="blob:"],
[data-testid="cell-frame-container"]:hover img[alt*="profile"],
.x1rg5ohu:hover img,
[data-testid="default-user"]:hover img {
  filter: blur(0px) !important;
}

/* ===== GROUP CHAT SPECIFIC ===== */
/* Blur group names */
[data-testid="cell-frame-container"] [data-testid="conversation-info-header"] span[title],
[role="gridcell"] [data-testid="conversation-info-header"] span {
  filter: blur(8px) !important;
  transition: filter 0.3s ease !important;
  border-radius: 4px !important;
}

/* Remove blur on hover for group names */
[data-testid="cell-frame-container"]:hover [data-testid="conversation-info-header"] span[title],
[role="gridcell"]:hover [data-testid="conversation-info-header"] span {
  filter: blur(0px) !important;
}

/* ===== SEARCH RESULTS HIDING ===== */
/* Blur names in search results */
[data-testid="search-results"] span[dir="auto"]:not(:empty),
[data-testid="search-results"] [title]:not([title=""]) {
  filter: blur(8px) !important;
  transition: filter 0.3s ease !important;
  border-radius: 4px !important;
}

/* Remove blur on hover for search results */
[data-testid="search-results"]:hover span[dir="auto"]:not(:empty),
[data-testid="search-results"]:hover [title]:not([title=""]) {
  filter: blur(0px) !important;
}

/* ===== FALLBACK SELECTORS ===== */
/* Additional fallback for dynamic content */
[role="listbox"] span[title]:not([title=""]),
[role="listbox"] span[dir="auto"]:not(:empty),
[aria-label*="Chat list"] span[dir="auto"]:not(:empty) {
  filter: blur(8px) !important;
  transition: filter 0.3s ease !important;
  border-radius: 4px !important;
}

/* Remove blur on hover for fallback selectors */
[role="listbox"]:hover span[title]:not([title=""]),
[role="listbox"]:hover span[dir="auto"]:not(:empty),
[aria-label*="Chat list"]:hover span[dir="auto"]:not(:empty) {
  filter: blur(0px) !important;
}

/* ===== HOVER EFFECTS ===== */
/* Enhanced hover effects for blur removal */
[data-testid="cell-frame-container"]:hover,
[role="gridcell"]:hover {
  /* Container hover state for better UX */
}

/* ===== RESPONSIVE ADJUSTMENTS ===== */
/* Ensure blur works on different screen sizes */
@media (max-width: 768px) {
  [data-testid="cell-frame-container"] span[dir="auto"]:not(:empty),
  [role="gridcell"] span[title]:not([title=""]) {
    font-size: inherit !important;
    line-height: inherit !important;
  }
}

/* ===== ACCESSIBILITY PRESERVATION ===== */
/* Preserve screen reader accessibility while blurring visually */
[data-testid="cell-frame-container"] span[dir="auto"]:not(:empty)[aria-label],
[role="gridcell"] span[title]:not([title=""])[aria-label] {
  /* Keep aria-label intact for screen readers */
  speak: normal;
}

/* ===== ANIMATION SUPPORT ===== */
/* Smooth transitions for blur/unblur */
[data-testid="cell-frame-container"] span[dir="auto"]:not(:empty),
[role="gridcell"] span[title]:not([title=""]),
[data-testid="last-msg"],
[data-testid="last-msg"] span,
[data-testid="avatar"] img,
img[src*="blob:"],
img[alt*="profile"] {
  transition: filter 0.3s ease !important;
}

/* ===== DEBUG HELPERS ===== */
/* Add subtle border for debugging (only visible in dev mode) */
body[data-wawebplus-debug="true"] [data-testid="cell-frame-container"] span[dir="auto"]:not(:empty),
body[data-wawebplus-debug="true"] [role="gridcell"] span[title]:not([title=""]) {
  border: 1px dashed rgba(255, 0, 0, 0.3) !important;
}

/* ===== IMPORTANT OVERRIDES ===== */
/* Ensure our blur styles take precedence over WhatsApp's dynamic styles */
[data-testid="cell-frame-container"] span[dir="auto"]:not(:empty),
[role="gridcell"] span[title]:not([title=""]),
[data-testid="last-msg"],
[data-testid="last-msg"] span {
  filter: blur(8px) !important;
}

/* Ensure hover effects work properly */
[data-testid="cell-frame-container"]:hover span[dir="auto"]:not(:empty),
[role="gridcell"]:hover span[title]:not([title=""]),
[data-testid="cell-frame-container"]:hover [data-testid="last-msg"],
[data-testid="cell-frame-container"]:hover [data-testid="last-msg"] span {
  filter: blur(0px) !important;
}